{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){\"use strict\";n.r(t);var r=n(0),c=n.n(r),a=n(15),s=n.n(a),o=(n(86),n(8)),i=n.n(o),u=n(10),l=n(6),d=(n(88),n(14)),j=n(25),m=n(164),f=n(160),b=n(162),p=(n(64),n(89),n(2)),h=[\"img-large\",\"img-small\"],O=function e(t){var n=h.includes(t.size)?t.size:h[0],a=Object(r.useState)(!1),s=Object(l.a)(a,2),o=s[0],j=s[1],O=Object(r.useState)(\"\"),x=Object(l.a)(O,2),g=x[0],v=x[1],y=Object(r.useState)(\"\"),N=Object(l.a)(y,2),S=N[0],w=N[1],_=Object(r.useState)(!1),C=Object(l.a)(_,2),k=C[0],R=C[1],T=c.a.useState(null),P=Object(l.a)(T,2),q=P[0],I=P[1],J=Boolean(q),z=Object(d.f)();Object(r.useEffect)((function(){var e=!0,n=function(){var t=Object(u.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friends\"),{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,e&&R(r.friends);case 7:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){var n=Object(u.a)(i.a.mark((function n(){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/check-friend\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:t.friend_id})});case 2:return r=n.sent,n.next=5,r.json();case 5:c=n.sent,e&&(\"true\"===c.message?j(!0):j(!1));case 7:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){var n=Object(u.a)(i.a.mark((function n(){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-info\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:t.friend_id})});case 2:return r=n.sent,n.next=5,r.json();case 5:\"Could Not Find User\"===(c=n.sent).message?console.log(c):e&&(w(c.username),v(c.profile_pic));case 7:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=Object(u.a)(i.a.mark((function n(){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-room-info\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({room_id:t.room_id})});case 2:return r=n.sent,n.next=5,r.json();case 5:\"Could Not Find Room\"===(c=n.sent).message?console.log(c):e&&(w(c.room_name),v(c.room_pic));case 7:case\"end\":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return e&&(!0===t.isRoom?(a().catch(w(\"\"),v(\"default_room.jpeg\")),n().catch(R(\"\"))):(r().catch(j(!1)),c().catch(w(\"\"),v(\"default.jpeg\")))),function(){e=!1}}),[t.friend_id,t.room_id,t.isRoom]);var F=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/add-friend\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:t.friend_id})});case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent,t.setReq({sender_id:t.user._id,friend_id:t.friend_id,req:\"add-friend\",in_pending:t.inPending.toString()});case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/remove-friend\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:t.friend_id})});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),t.setReq({sender_id:t.user._id,friend_id:t.friend_id,req:\"remove-friend\"});case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/leave-room\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({room_id:t.room_id})});case 2:return n=e.sent,window.location.reload(),e.abrupt(\"return\",n);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.push(\"/room/\"+t.room_id);case 1:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(i.a.mark((function e(n){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"event target: \",n.target),console.log(\"event target value: \",n.target.id),e.next=4,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/add-to-room\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:n.target.id,room_id:t.room_id})});case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,console.log(c),\"Friend is already in room\"!==c.message&&t.setReq({sender_id:t.user._id,friend_id:n.target.id,room_id:t.room_id,req:\"add-to-room\"});case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(\"div\",{children:[Object(p.jsxs)(\"div\",{className:\"friend-container mt-2\",id:t.id,children:[Object(p.jsx)(\"img\",{src:\"../\"+g,alt:\"friend\",className:\"\".concat(n),id:t.id}),t.overlay?t.isRoom?Object(p.jsx)(\"div\",{className:\"overlay \".concat(n),children:Object(p.jsxs)(\"div\",{className:\"col\",children:[Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},className:\"overlay-btn mt-3\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:E,children:\"Chat\"}),Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},variant:\"contained\",color:\"secondary\",className:\"overlay-btn mt-2\",id:\"basic-button\",\"aria-controls\":\"basic-menu\",\"aria-haspopup\":\"true\",\"aria-expanded\":J?\"true\":void 0,onClick:function(e){I(e.currentTarget)},children:\"Invite Friend\"}),Object(p.jsx)(f.a,{id:\"basic-menu\",anchorEl:q,open:J,onClose:function(){I(null)},MenuListProps:{\"aria-labelledby\":\"basic-button\"},children:Object.keys(k).map((function(t){return Object(p.jsx)(b.a,{sx:{backgroundColor:\"#242424\",\"&:hover\":{backgroundColor:\"#2d2d2d\"}},onClick:function(e){return L(e)},children:Object(p.jsx)(e,{alt:\"friend\",size:\"img-small\",isRoom:!1,friend_id:k[t],id:k[t]})},t)}))}),Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},variant:\"contained\",color:\"error\",className:\"overlay-btn mt-2\",onClick:D,children:\"Leave Room\"})]})}):\"img-large\"===n?Object(p.jsx)(\"div\",{className:\"overlay \".concat(n),children:Object(p.jsxs)(\"div\",{className:\"col\",children:[!1===o?Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:F,children:\"Add Friend\"}):Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:function(){z.push(\"/friend/\"+t.friend_id)},children:\"Message\"}),!0===o?Object(p.jsx)(m.a,{style:{margin:\"0 auto\",display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"error\",size:\"small\",onClick:U,children:\"Remove Friend\"}):null]})}):null:null,\" \"]}),Object(p.jsx)(\"div\",{className:\"friend-name\",children:Object(p.jsx)(\"p\",{children:S})})]})},x=(n(100),function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),m=o[0],f=o[1],b=Object(d.f)(),h=function(){return a(!c)};Object(r.useEffect)((function(){var t=function(){var t=Object(u.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-room-info\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({room_id:e.room_id})});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,console.log(r.users),f(r.users);case 8:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();null===e.room_id?f([]):t()}),[e.room_id]);var x,g=function(){var t=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setUser(\"\"),t.next=3,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/logout\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 3:localStorage.removeItem(\"user\"),b.push(\"/login\");case 5:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return x=\"\"===e.user?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(\"div\",{className:\"navbar\",children:[Object(p.jsx)(\"div\",{className:\"container-fluid navbar-container\"}),Object(p.jsx)(\"div\",{className:\"nav-bars\",children:Object(p.jsx)(\"i\",{className:\"fas fa-bars fa-3x\",onClick:h})}),Object(p.jsx)(\"nav\",{className:c?\"nav-menu active\":\"nav-menu\",children:Object(p.jsxs)(\"ul\",{className:\"nav-menu-items\",onClick:h,children:[Object(p.jsx)(\"li\",{className:\"nav-toggle\",children:Object(p.jsx)(\"div\",{className:\"nav-x\",children:Object(p.jsx)(\"i\",{className:\"fas fa-times fa-3x\"})})}),Object(p.jsx)(\"li\",{className:\"nav-text\",children:Object(p.jsxs)(j.b,{to:\"/\",children:[Object(p.jsx)(\"i\",{className:\"fas fa-atom\"}),Object(p.jsx)(\"span\",{children:\" Home\"})]})}),Object(p.jsx)(\"li\",{className:\"nav-text\",children:Object(p.jsxs)(j.b,{to:\"/login\",onClick:g,children:[Object(p.jsx)(\"i\",{className:\"fas fa-power-off\"}),Object(p.jsx)(\"span\",{children:\" Logout\"})]})}),0===m.length?null:Object.keys(m).map((function(e){return Object(p.jsx)(\"li\",{className:\"\",children:Object(p.jsx)(O,{alt:\"default.jpeg\",size:\"img-small\",isRoom:!1,friend_id:m[e]})},e)}))]})})]})}),Object(p.jsx)(p.Fragment,{children:x})}),g=n(17),v=n(72),y=n.n(v),N=(n(101),[\"btn--primary\",\"btn--secondary\",\"btn--outline\"]),S=[\"btn--med\",\"btn--lg\",\"btn--sm\"],w=function(e){var t=e.children,n=e.type,r=e.onClick,c=e.buttonStyle,a=e.buttonSize,s=e.my,o=e.mx,i=e.classes,u=N.includes(c)?c:N[0],l=S.includes(a)?a:S[0];return Object(p.jsx)(\"button\",{className:\"btn \".concat(l,\" \").concat(u,\" \").concat(s,\" \").concat(o,\" \").concat(i),onClick:r,type:n,children:t})},_=n(159),C=(n(102),n(53),function(e){var t=Object(r.useState)(\"\"),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(\"\"),o=Object(l.a)(s,2),d=o[0],j=o[1],m=Object(r.useState)(!1),f=Object(l.a)(m,2),b=f[0],h=f[1],x=Object(r.useState)(\"\"),g=Object(l.a)(x,2),v=g[0],y=g[1],N=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/search-friend\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({username:d})});case 3:return n=e.sent,e.next=6,n.json();case 6:null!==(r=e.sent)?(a(\"\"),h(!0),y(r)):(a(\"user not found\"),h(!1),y(\"\"));case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(\"div\",{className:e.search?\"search-window active\":\"search-window\",children:Object(p.jsx)(\"div\",{className:\"search-box\",children:Object(p.jsxs)(\"div\",{className:\"mt-5\",align:\"center\",children:[Object(p.jsx)(_.a,{label:\"Search...\",maxRows:4,variant:\"filled\",onChange:function(e){return j(e.target.value)}}),Object(p.jsx)(w,{buttonSize:\"btn--md\",buttonStyle:\"btn--secondary\",type:\"submit\",my:\"mt-2\",mx:\"mx-auto\",onClick:N,children:\"Search\"}),\"\"===c?null:Object(p.jsx)(\"li\",{className:\"search-result\",children:c}),b?Object.keys(v).map((function(t){return Object(p.jsx)(\"li\",{className:\"search-result\",children:Object(p.jsx)(O,{src:v[t].profile_pic,alt:\"friend\",size:\"img-large\",name:v[t].username,friend_id:v[t]._id,setReq:function(t){return e.setReq(t)},user:e.user,inPending:!1,overlay:!0})},t)})):null]})})})}),k=(n(103),function(e){var t=Object(r.useState)(\"\"),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(\"\"),o=Object(l.a)(s,2),d=o[0],j=o[1],m=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/create-room\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({name:d})});case 3:return n=e.sent,e.next=6,n.json();case 6:\"Successfully created room!\"===(r=e.sent).message?window.location.reload():a(r);case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(\"div\",{className:e.createRoom?\"create-window active\":\"create-window\",children:Object(p.jsx)(\"div\",{className:\"search-box\",children:Object(p.jsxs)(\"div\",{className:\"mt-5\",align:\"center\",children:[Object(p.jsx)(_.a,{label:\"Room Name\",variant:\"filled\",onChange:function(e){return j(e.target.value)}}),Object(p.jsx)(w,{buttonSize:\"btn--md\",buttonStyle:\"btn--secondary\",type:\"submit\",my:\"mt-2\",mx:\"mx-auto\",onClick:m,children:\"Create Room\"}),\"\"===c?null:Object(p.jsx)(\"li\",{className:\"search-result\",children:c})]})})})}),R=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(!1),c=Object(l.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(!1),j=Object(l.a)(o,2),m=j[0],f=j[1],b=Object(r.useState)(\"\"),h=Object(l.a)(b,2),x=h[0],v=h[1],N=Object(r.useState)([]),S=Object(l.a)(N,2),w=S[0],_=S[1],R=Object(r.useState)(\"\"),T=Object(l.a)(R,2),P=T[0],q=T[1],I=Object(r.useRef)();I.current=P;var J=y()(null,(function(e){null!==e&&1===t.current.readyState&&(t.current.send(JSON.stringify(e)),F(null))})),z=Object(l.a)(J,2),F=(z[0],z[1]),U=Object(d.f)();e.setRoomID(null),localStorage.getItem(\"user\")||U.push(\"/login\");var D=a?\"rotate-icon\":\"\",E=m?\"rotate-icon\":\"\";return console.log(\"requests in home: \",P),Object(r.useEffect)((function(){var n=!0,r=function(){var e=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friends\"),{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n&&v(r.friends);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-reqs\"),{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n&&q(r.requests);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-rooms\"),{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n&&_(r.rooms);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n&&(r().catch(v(\"\")),c().catch(q(\"\")),a().catch(_([]))),t.current=new WebSocket(\"wss://\".concat(\"149.28.198.74\",\"/ws\")),t.current.onopen=function(e){console.log(\"Connected to ws\")},t.current.onmessage=function(t){var n=JSON.parse(t.data);switch(console.log(\"requests: \",P),n.req){case\"add-friend\":console.log(\"requests: \",I.current);var r=[],c=!1;Object.keys(I.current).map((function(e){return I.current[e]!==n.friend_id?r.push(P[e]):c=!0,I.current[e]})),console.log(\"isInRequests: \",c),n.sender_id===e.user._id?c&&(console.log(\"Accepting friend request\"),console.log(\"new requests: \",r),q(r),v((function(e){return[].concat(Object(g.a)(e),[n.friend_id])}))):\"true\"===n.in_pending?(console.log(\"Friend accepted request\"),v((function(e){return[].concat(Object(g.a)(e),[n.friend_id])}))):(console.log(\"Received friend request\"),q((function(e){return[].concat(Object(g.a)(e),[n.friend_id])})));break;case\"remove-friend\":var a=[];Object.keys(x).map((function(e){return console.log(\"friend: \",x[e]),x[e]!==n.friend_id&&a.push(x[e]),x[e]})),console.log(\"filtered array: \",a),v(a);break;case\"add-to-room\":console.log(\"In add-to-room\"),console.log(\"Is receiver: \",n.sender_id!==e.user._id),n.sender_id!==e.user._id&&window.location.reload();break;default:F(null)}},t.current.onclose=function(e){console.log(\"socket closed connection: \",e)},function(){n=!1}}),[]),Object(p.jsxs)(\"div\",{className:\"container\",children:[Object(p.jsxs)(\"div\",{className:\"rooms-header\",children:[Object(p.jsx)(\"h2\",{className:\"rooms-header-text mb-0\",children:\"Friends\"}),Object(p.jsx)(\"i\",{className:\"fas fa-plus-circle add-btn mb-0 \".concat(D),onClick:function(){return s(!a)}})]}),Object(p.jsx)(\"div\",{className:\"search-window-container\",children:Object(p.jsx)(C,{search:a,setSearch:s,setReq:function(e){F(e)},user:e.user})}),Object(p.jsx)(\"div\",{className:\"row\",children:null===x?null:Object.keys(x).map((function(t){return Object(p.jsx)(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:Object(p.jsx)(O,{alt:\"friend\",size:\"img-large\",isRoom:!1,friend_id:x[t],setReq:function(e){F(e)},user:e.user,inPending:!1,overlay:!0})},t)}))}),Object(p.jsxs)(\"div\",{className:\"rooms-header\",children:[Object(p.jsx)(\"h2\",{className:\"rooms-header-text mt-2\",children:\"Rooms\"}),Object(p.jsx)(\"i\",{className:\"fas fa-plus-circle add-btn mb-0 \".concat(E),onClick:function(){return f(!m)}})]}),Object(p.jsx)(\"div\",{className:\"search-window-container\",children:Object(p.jsx)(k,{createRoom:m})}),Object(p.jsx)(\"div\",{className:\"row\",children:null===w?null:Object.keys(w).map((function(t){return Object(p.jsx)(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:Object(p.jsx)(O,{alt:\"default_room.jpeg\",size:\"img-large\",isRoom:!0,room_id:w[t],setReq:function(e){F(e)},user:e.user,overlay:!0})},t)}))}),Object(p.jsx)(\"div\",{className:\"rooms-header\",children:Object(p.jsx)(\"h2\",{className:\"rooms-header-text mb-0\",children:\"Pending Friends\"})}),Object(p.jsx)(\"div\",{className:\"row\",children:null===P?null:Object.keys(P).map((function(t){return Object(p.jsx)(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:Object(p.jsx)(O,{src:\"default_pic.jpeg\",alt:\"friend\",size:\"img-large\",name:\"username\",isRoom:!1,friend_id:P[t],setReq:function(e){F(e)},user:e.user,inPending:!0,overlay:!0})},t)}))}),Object(p.jsx)(\"p\",{className:\"mt-5 mb-3 mx-auto text-muted\",children:\"\\xa9 2017\\u20132021\"})]})},T=(n(66),function(e){var t=Object(r.useState)(!1),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(\"\"),o=Object(l.a)(s,2),m=o[0],f=o[1],b=Object(r.useState)(\"\"),h=Object(l.a)(b,2),O=h[0],x=h[1],g=Object(r.useState)(\"\"),v=Object(l.a)(g,2),y=v[0],N=v[1],S=Object(d.f)();localStorage.getItem(\"user\")&&S.push(\"/\");var _=function(){var t=Object(u.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/login\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({email:m,password:O})});case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,console.log(\"Login\",c),void 0!==c.message?N(c.message):(localStorage.setItem(\"user\",c),e.setUser(c),N(\"\"),a(!0));case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return c?Object(p.jsx)(d.a,{to:\"/\"}):Object(p.jsxs)(\"form\",{className:\"container login-form\",onSubmit:_,children:[Object(p.jsx)(\"h2\",{className:\"signin-header\",children:\"Please Sign In\"}),Object(p.jsx)(\"div\",{className:\"login-input\",children:Object(p.jsx)(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email Address\",required:!0,onChange:function(e){return f(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"login-input mb-4\",children:Object(p.jsx)(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:!0,onChange:function(e){return x(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"text-danger mb-3\",children:y}),Object(p.jsx)(w,{buttonStyle:\"btn--primary\",type:\"submit\",children:\"Sign In\"}),Object(p.jsxs)(\"p\",{className:\"mt-5 mb-3 text-muted\",children:[\"Need and account? \",Object(p.jsx)(j.b,{to:\"register\",children:\"Register\"})]})]})}),P=function(e){var t=Object(r.useState)(\"\"),n=Object(l.a)(t,2)[1],c=Object(r.useState)(!1),a=Object(l.a)(c,2),s=a[0],o=a[1],m=Object(r.useState)(\"\"),f=Object(l.a)(m,2),b=f[0],h=f[1],O=Object(r.useState)(\"\"),x=Object(l.a)(O,2),g=x[0],v=x[1],y=Object(r.useState)(\"\"),N=Object(l.a)(y,2),S=N[0],_=N[1],C=Object(r.useState)(\"\"),k=Object(l.a)(C,2),R=k[0],T=k[1],P=Object(d.f)();localStorage.getItem(\"user\")&&P.push(\"/\"),console.log(e.username);var q=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S){e.next=5;break}return e.next=4,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:b,email:g,password:R})});case 4:o(!0);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s)return Object(p.jsx)(d.a,{to:\"/login\"});return Object(p.jsxs)(\"form\",{className:\"container login-form\",onSubmit:q,children:[Object(p.jsx)(\"h2\",{className:\"signin-header\",children:\"Sign Up\"}),Object(p.jsx)(\"div\",{className:\"login-input\",children:Object(p.jsx)(\"input\",{type:\"text\",className:\"form-control\",name:\"username\",placeholder:\"Username\",required:!0,onChange:function(e){return h(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"login-input\",children:Object(p.jsx)(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Email Address\",required:!0,onChange:function(e){return v(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"login-input\",children:Object(p.jsx)(\"input\",{type:\"password\",className:\"form-control\",name:\"pass\",placeholder:\"Password\",required:!0,onChange:function(e){return T(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"login-input\",children:Object(p.jsx)(\"input\",{type:\"password\",className:\"form-control\",name:\"confirmPass\",placeholder:\"Confirm Password\",required:!0,onChange:function(e){return function(e){var t=e;n(t),_(R!==t?\"Passwords do not match\":\"\")}(e.target.value)}})}),Object(p.jsx)(\"div\",{className:\"text-danger mb-3\",children:S}),Object(p.jsx)(w,{buttonStyle:\"btn--primary\",link:\"/register\",type:\"submit\",children:\"Sign Up\"}),Object(p.jsxs)(\"p\",{className:\"mt-5 mb-3 text-muted\",children:[\"Have an account? \",Object(p.jsx)(j.b,{to:\"/login\",children:\"Login\"})]})]})},q=function(e){var t=e.isCurrUser?\"current-user\":\"not-current-user\";return Object(p.jsxs)(\"div\",{className:\"message mt-3 \".concat(t),children:[Object(p.jsx)(\"div\",{className:\"message-text mx-2 mt-2\",children:e.user+\":\"}),Object(p.jsx)(\"div\",{className:\"message-text mx-2 mt-2\",children:e.text})]})},I=(n(104),function(e){return Object(p.jsxs)(\"div\",{className:\"row mt-5 message-box\",align:\"center\",children:[Object(p.jsx)(\"div\",{className:\"col-sm-11 px-0\",children:Object(p.jsx)(_.a,{id:\"filled-multiline-flexible\",className:\"message-input\",label:\"Message\",fullWidth:!0,variant:\"filled\",onChange:function(t){return e.onChange(t.target.value)}})}),Object(p.jsx)(\"div\",{className:\"col-sm-1 my-auto pl-1\",children:Object(p.jsx)(w,{buttonSize:\"btn--md btn--primary\",onClick:e.onClick,children:\"Send\"})})]})}),J=(n(67),function(e){var t=Object(r.useRef)(null),n=Object(d.f)(),c=Object(r.useState)(),a=Object(l.a)(c,2),s=a[0],o=a[1],j=Object(r.useState)([]),m=Object(l.a)(j,2),f=m[0],b=m[1],h=Object(r.useState)(\"\"),x=Object(l.a)(h,2),v=x[0],y=x[1];e.setRoomID(null);var N=Object(d.g)().friend_id;localStorage.getItem(\"user\")||n.push(\"/login\"),Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-chat\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({friend_id:N})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,y(n.room_id);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-messages\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({room_id:v})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,b(n.messages);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),n(),t.current=new WebSocket(\"wss://\".concat(\"149.28.198.74\",\"/ws/\")+v),t.current.onopen=function(e){console.log(\"Connection at: \",v)},t.current.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),b((function(e){return[].concat(Object(g.a)(e),[t])}))},t.current.onclose=function(e){console.log(\"socket closed connection: \",e)}}),[N,v]);return Object(p.jsxs)(\"div\",{className:\"container room-friend-container\",children:[Object(p.jsx)(\"div\",{className:\"row mt-5\",children:Object(p.jsx)(O,{alt:\"friend\",size:\"img-large\",isRoom:!1,friend_id:N,overlay:!1})}),Object(p.jsx)(\"div\",{className:\"row\",children:0===f.length?null:Object.keys(f).map((function(t){return Object(p.jsx)(\"div\",{className:\"\",children:Object(p.jsx)(q,{user:f[t].user,text:f[t].text,isCurrUser:e.user.username===f[t].user})},t)}))}),Object(p.jsx)(\"div\",{className:\"row\",children:Object(p.jsx)(I,{onChange:o,onClick:function(){t.current.send(s)}})})]})}),z=function(e){var t=Object(r.useRef)(null),n=Object(d.f)(),c=Object(r.useState)(),a=Object(l.a)(c,2),s=a[0],o=a[1],j=Object(r.useState)(\"\"),m=Object(l.a)(j,2),f=m[0],b=m[1],h=Object(d.g)().room_id;e.setRoomID(h),localStorage.getItem(\"user\")||n.push(\"/login\"),Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-messages\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({room_id:h})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,b(n.messages);case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),t.current=new WebSocket(\"ws://\".concat(\"149.28.198.74\",\"/ws/\")+h),t.current.onopen=function(e){console.log(\"Connection at: \",h)},t.current.onmessage=function(e){var t=JSON.parse(e.data);console.log(t),b((function(e){return[].concat(Object(g.a)(e),[t])}))},t.current.onclose=function(e){console.log(\"socket closed connection: \",e)}}),[h]);return Object(p.jsxs)(\"div\",{className:\"container room-friend-container\",children:[Object(p.jsx)(\"div\",{className:\"row mt-5\",children:Object(p.jsx)(O,{alt:\"room\",size:\"img-large\",isRoom:!0,room_id:h,overlay:!1})}),Object(p.jsx)(\"div\",{className:\"row\",children:0===f.length?null:Object.keys(f).map((function(t){return Object(p.jsx)(\"div\",{className:\"\",children:Object(p.jsx)(q,{user:f[t].user,text:f[t].text,isCurrUser:e.user.username===f[t].user})},t)}))}),Object(p.jsx)(\"div\",{className:\"row\",children:Object(p.jsx)(I,{onChange:o,onClick:function(){return t.current.send(s)}})})]})};var F=function(){var e=Object(r.useState)(\"\"),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(l.a)(a,2),o=s[0],m=s[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"https://\".concat(\"149.28.198.74\",\"/api/getuser\"),{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return t=e.sent,e.next=5,t.json();case 5:void 0!==(n=e.sent).message?c(\"\"):(localStorage.setItem(\"user\",n),c(n));case 7:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().catch(c(\"\"))}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(j.a,{children:[Object(p.jsx)(x,{user:n,setUser:c,room_id:o}),Object(p.jsx)(d.b,{exact:!0,path:\"/\",component:function(){return Object(p.jsx)(R,{user:n,setUser:c,setRoomID:function(e){return m(e)}})}}),Object(p.jsx)(d.b,{path:\"/login\",component:function(){return Object(p.jsx)(T,{user:n,setUser:c})}}),Object(p.jsx)(d.b,{path:\"/register\",component:function(){return Object(p.jsx)(P,{user:n})}}),Object(p.jsx)(d.b,{exact:!0,path:\"/friend/:friend_id\",component:function(){return Object(p.jsx)(J,{user:n,isRoom:!1,setRoomID:function(e){return m(e)}})}}),Object(p.jsx)(d.b,{exact:!0,path:\"/room/:room_id\",component:function(){return Object(p.jsx)(z,{user:n,isRoom:!0,setRoomID:function(e){return m(e)}})}})]})})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,166)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(F,{})}),document.getElementById(\"root\")),U()},53:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){}},[[105,1,2]]]);","name":"static/js/main.5ef2a4d9.chunk.js","map":{"version":3,"sources":["static/js/main.5ef2a4d9.chunk.js"],"names":["this","push","100","module","exports","__webpack_require__","101","102","103","104","105","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","react_router","react_router_dom","Button_Button","Menu","MenuItem","jsx_runtime","SIZES","Preview_Preview","Preview","props","getImgSize","includes","size","_useState","Object","_useState2","isFriend","setIsFriend","_useState3","_useState4","previewPic","setPreviewPic","_useState5","_useState6","previewName","setPreviewName","_useState7","_useState8","friends","setFriends","_React$useState","a","useState","_React$useState2","anchorEl","setAnchorEl","open","Boolean","history","isMounted","getFriends","_ref","mark","_callee","response","result","wrap","_context","prev","next","fetch","concat","headers","Content-Type","credentials","sent","json","stop","apply","arguments","checkFriend","_ref2","_callee2","_context2","method","body","JSON","stringify","friend_id","getFriendInfo","_ref3","_callee3","_context3","console","log","getRoomInfo","_ref4","_callee4","_context4","room_id","isRoom","catch","addFriend","_ref5","_callee5","_context5","setReq","sender_id","user","req","in_pending","inPending","toString","removeFriend","_ref6","_callee6","_context6","leaveRoom","_ref7","_callee7","_context7","window","location","reload","abrupt","goToChat","_ref8","_callee8","_context8","sendRoomInvite","_ref9","_callee9","event","_context9","target","id","_x","children","className","src","alt","overlay","style","margin","display","variant","color","onClick","aria-controls","aria-haspopup","aria-expanded","undefined","currentTarget","onClose","MenuListProps","aria-labelledby","keys","map","key","sx","backgroundColor","&:hover","e","Navbar_Navbar","sidebar","setSidebar","users","setUsers","showSidebar","menu","logout","setUser","localStorage","removeItem","to","length","toConsumableArray","lib","lib_default","STYLES","Button_SIZES","components_Button_Button","type","buttonStyle","buttonSize","my","mx","classes","getButtonStyle","getButtonSize","TextField","Search_Search","error","setError","username","setUsername","receivedData","setReceivedData","data","setData","submit","preventDefault","search","align","label","maxRows","onChange","value","name","CreateRoom_CreateRoom","roomName","setRoomName","createRoom","Home_Home","socket","setSearch","setCreateRoom","rooms","setRooms","_useState9","_useState10","requests","setRequests","requestsRef","current","_useStateWithCallback","readyState","send","_setReq","_useStateWithCallback2","setRoomID","getItem","searchClass","roomClass","getFriendReqs","getRooms","WebSocket","onopen","onmessage","request","new_req","parse","filteredRequests","isInRequests","filteredArray","onclose","Login_Login","redirect","setRedirect","email","setEmail","pass","setPass","password","message","setItem","onSubmit","placeholder","required","Register_Register","setConfirmPass","_useState11","_useState12","e_val","confirm_pass","validatePass","link","Message_Message","getColor","isCurrUser","text","MessageBox_MessageBox","fullWidth","Friend_Friend","msg","setMsg","messages","setMessages","setRoomId","getFriendChat","getMessages","new_msg","Room_Room","src_App","_setRoomID","fetchUser","exact","path","component","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById","53","64","66","67","86","88","89"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 105:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(15);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(8);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 2 modules\nvar Button_Button = __webpack_require__(164);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Menu/Menu.js + 33 modules\nvar Menu = __webpack_require__(160);\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 4 modules\nvar MenuItem = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./src/pages/Home.scss\nvar pages_Home = __webpack_require__(64);\n\n// EXTERNAL MODULE: ./src/components/Preview.scss\nvar components_Preview = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/Preview.js\n//import FormControl from '@mui/material/FormControl';\n//import InputLabel from '@mui/material/InputLabel';\nvar SIZES=['img-large','img-small'];var Preview_Preview=function Preview(props){var getImgSize=SIZES.includes(props.size)?props.size:SIZES[0];// get button style. default to primary\nvar _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isFriend=_useState2[0],setIsFriend=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),previewPic=_useState4[0],setPreviewPic=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),previewName=_useState6[0],setPreviewName=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),friends=_useState8[0],setFriends=_useState8[1];var _React$useState=react_default.a.useState(null),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleClick=function handleClick(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var history=Object(react_router[\"f\" /* useHistory */])();// when friend is clicked function\nObject(react[\"useEffect\"])(function(){var isMounted=true;var getFriends=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friends\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;if(isMounted){setFriends(result['friends']);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getFriends(){return _ref.apply(this,arguments);};}();var checkFriend=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response,result;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/check-friend\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:props.friend_id})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;if(isMounted){if(result['message']==='true'){setIsFriend(true);}else{setIsFriend(false);}}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function checkFriend(){return _ref2.apply(this,arguments);};}();var getFriendInfo=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var response,result;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-info\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:props.friend_id})});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:result=_context3.sent;if(result['message']==='Could Not Find User'){console.log(result);}else{if(isMounted){setPreviewName(result['username']);setPreviewPic(result['profile_pic']);}}case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function getFriendInfo(){return _ref3.apply(this,arguments);};}();var getRoomInfo=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){var response,result;return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-room-info\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({room_id:props.room_id})});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:result=_context4.sent;if(result['message']==='Could Not Find Room'){console.log(result);}else{if(isMounted){setPreviewName(result['room_name']);setPreviewPic(result['room_pic']);}}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return function getRoomInfo(){return _ref4.apply(this,arguments);};}();if(isMounted){if(props.isRoom===true){getRoomInfo().catch(setPreviewName(''),setPreviewPic('default_room.jpeg'));getFriends().catch(setFriends(''));}else{checkFriend().catch(setIsFriend(false));getFriendInfo().catch(setPreviewName(''),setPreviewPic('default.jpeg'));}}return function(){isMounted=false;};},[props.friend_id,props.room_id,props.isRoom]);var addFriend=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){var response,result;return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/add-friend\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:props.friend_id})});case 2:response=_context5.sent;_context5.next=5;return response.json();case 5:result=_context5.sent;props.setReq({\"sender_id\":props.user['_id'],\"friend_id\":props.friend_id,\"req\":\"add-friend\",\"in_pending\":props.inPending.toString()});//window.location.reload()\ncase 7:case\"end\":return _context5.stop();}}},_callee5);}));return function addFriend(){return _ref5.apply(this,arguments);};}();var removeFriend=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee6(){var response,result;return regenerator_default.a.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/remove-friend\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:props.friend_id})});case 2:response=_context6.sent;_context6.next=5;return response.json();case 5:result=_context6.sent;console.log(result);props.setReq({\"sender_id\":props.user['_id'],\"friend_id\":props.friend_id,\"req\":\"remove-friend\"});//history.push('/')\n//window.location.reload();\ncase 8:case\"end\":return _context6.stop();}}},_callee6);}));return function removeFriend(){return _ref6.apply(this,arguments);};}();var goToMessages=function goToMessages(){history.push('/friend/'+props.friend_id);};var leaveRoom=/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee7(){var response;return regenerator_default.a.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/leave-room\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({room_id:props.room_id})});case 2:response=_context7.sent;window.location.reload();return _context7.abrupt(\"return\",response);case 5:case\"end\":return _context7.stop();}}},_callee7);}));return function leaveRoom(){return _ref7.apply(this,arguments);};}();var goToChat=/*#__PURE__*/function(){var _ref8=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee8(){return regenerator_default.a.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:history.push('/room/'+props.room_id);case 1:case\"end\":return _context8.stop();}}},_callee8);}));return function goToChat(){return _ref8.apply(this,arguments);};}();var sendRoomInvite=/*#__PURE__*/function(){var _ref9=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee9(event){var response,result;return regenerator_default.a.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log('event target: ',event.target);console.log('event target value: ',event.target.id);_context9.next=4;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/add-to-room\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:event.target.id,room_id:props.room_id})});case 4:response=_context9.sent;_context9.next=7;return response.json();case 7:result=_context9.sent;console.log(result);if(result[\"message\"]!==\"Friend is already in room\"){props.setReq({\"sender_id\":props.user['_id'],\"friend_id\":event.target.id,\"room_id\":props.room_id,\"req\":\"add-to-room\"});}//window.location.reload()\ncase 10:case\"end\":return _context9.stop();}}},_callee9);}));return function sendRoomInvite(_x){return _ref9.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"friend-container mt-2\",id:props.id,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:'../'+previewPic,alt:\"friend\",className:\"\".concat(getImgSize),id:props.id}),props.overlay?!props.isRoom?// if preview for friend:\ngetImgSize==='img-large'?/*#__PURE__*/ // if image is large:\nObject(jsx_runtime[\"jsx\"])(\"div\",{className:\"overlay \".concat(getImgSize),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col\",children:[isFriend===false?/*#__PURE__*/ // if they are not friends:\nObject(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:addFriend,children:\"Add Friend\"}):/*#__PURE__*/ // if they are friends:\nObject(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:goToMessages,children:\"Message\"}),isFriend===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},className:\"overlay-btn mt-4\",variant:\"contained\",color:\"error\",size:\"small\",onClick:removeFriend,children:\"Remove Friend\"}):null]})}):null// if small-image\n:/*#__PURE__*/ // if preview for Room: }\nObject(jsx_runtime[\"jsx\"])(\"div\",{className:\"overlay \".concat(getImgSize),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"col\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},className:\"overlay-btn mt-3\",variant:\"contained\",color:\"secondary\",size:\"small\",onClick:goToChat,children:\"Chat\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},variant:\"contained\",color:\"secondary\",className:\"overlay-btn mt-2\",id:\"basic-button\",\"aria-controls\":\"basic-menu\",\"aria-haspopup\":\"true\",\"aria-expanded\":open?'true':undefined,onClick:handleClick,children:\"Invite Friend\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu[\"a\" /* default */],{id:\"basic-menu\",anchorEl:anchorEl,open:open,onClose:handleClose,MenuListProps:{'aria-labelledby':'basic-button'},children:Object.keys(friends).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MenuItem[\"a\" /* default */],{sx:{backgroundColor:'#242424','&:hover':{backgroundColor:'#2d2d2d'}},onClick:function onClick(e){return sendRoomInvite(e);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview,{alt:\"friend\",size:\"img-small\",isRoom:false,friend_id:friends[key],id:friends[key]})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button_Button[\"a\" /* default */],{style:{margin:'0 auto',display:\"flex\"},variant:\"contained\",color:\"error\",className:\"overlay-btn mt-2\",onClick:leaveRoom,children:\"Leave Room\"})]})}):null,\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"friend-name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:previewName})})]});};\n// EXTERNAL MODULE: ./src/components/Navbar.scss\nvar components_Navbar = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_Navbar=function Navbar(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),sidebar=_useState2[0],setSidebar=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var history=Object(react_router[\"f\" /* useHistory */])();var showSidebar=function showSidebar(){return setSidebar(!sidebar);};// toggle sidebar\nObject(react[\"useEffect\"])(function(){var getRoomInfo=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-room-info\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({room_id:props.room_id})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;console.log(result['users']);setUsers(result['users']);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getRoomInfo(){return _ref.apply(this,arguments);};}();if(props.room_id===null){setUsers([]);}else{getRoomInfo();}},[props.room_id]);// logout function\nvar logout=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:props.setUser('');_context2.next=3;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/logout\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include'});case 3:localStorage.removeItem(\"user\");history.push('/login');case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function logout(){return _ref2.apply(this,arguments);};}();var menu;// if no user: don't display menu\nif(props.user===''){menu=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{});}else{menu=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"container-fluid navbar-container\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-bars\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-bars fa-3x\",onClick:showSidebar})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{className:sidebar?'nav-menu active':'nav-menu',children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"nav-menu-items\",onClick:showSidebar,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-toggle\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"nav-x\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-times fa-3x\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-text\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-atom\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\" Home\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-text\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",onClick:logout,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-power-off\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\" Logout\"})]})}),users.length===0?null:Object.keys(users).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{alt:\"default.jpeg\",size:\"img-small\",isRoom:false,friend_id:users[key]})},key);})]})})]})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:menu});};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/use-state-with-callback/lib/index.js\nvar lib = __webpack_require__(72);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./src/components/Button.scss\nvar components_Button = __webpack_require__(101);\n\n// CONCATENATED MODULE: ./src/components/Button.js\n//import {Link} from 'react-router-dom';\nvar STYLES=['btn--primary','btn--secondary','btn--outline'];var Button_SIZES=['btn--med','btn--lg','btn--sm'];var components_Button_Button=function Button(_ref){var children=_ref.children,type=_ref.type,onClick=_ref.onClick,buttonStyle=_ref.buttonStyle,buttonSize=_ref.buttonSize,my=_ref.my,mx=_ref.mx,classes=_ref.classes;var getButtonStyle=STYLES.includes(buttonStyle)?buttonStyle:STYLES[0];// get button style. default to primary\nvar getButtonSize=Button_SIZES.includes(buttonSize)?buttonSize:Button_SIZES[0];// get button size. default to medium\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn \".concat(getButtonSize,\" \").concat(getButtonStyle,\" \").concat(my,\" \").concat(mx,\" \").concat(classes),onClick:onClick,type:type,children:children});};\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/TextField/TextField.js + 114 modules\nvar TextField = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./src/components/Search.scss\nvar components_Search = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./src/components/Message.scss\nvar components_Message = __webpack_require__(53);\n\n// CONCATENATED MODULE: ./src/components/Search.js\n//import {Link} from 'react-router-dom'\nvar Search_Search=function Search(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),receivedData=_useState6[0],setReceivedData=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),data=_useState8[0],setData=_useState8[1];var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/search-friend\"),{// send post request to login endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({username:username})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;// get content\nif(result!==null){setError('');setReceivedData(true);setData(result);}else{setError('user not found');setReceivedData(false);setData('');}case 8:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:props.search?'search-window active':'search-window',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"search-box\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mt-5\",align:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Search...\",maxRows:4,variant:\"filled\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{buttonSize:\"btn--md\",buttonStyle:\"btn--secondary\",type:\"submit\",my:\"mt-2\",mx:\"mx-auto\",onClick:submit,children:\"Search\"}),error===''?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"search-result\",children:error}),receivedData?Object.keys(data).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"search-result\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{src:data[key]['profile_pic'],alt:\"friend\",size:\"img-large\",name:data[key]['username'],friend_id:data[key]['_id'],setReq:function setReq(data){return props.setReq(data);},user:props.user,inPending:false,overlay:true})},key);}):null]})})});};\n// EXTERNAL MODULE: ./src/components/CreateRoom.scss\nvar components_CreateRoom = __webpack_require__(103);\n\n// CONCATENATED MODULE: ./src/components/CreateRoom.js\nvar CreateRoom_CreateRoom=function CreateRoom(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),roomName=_useState4[0],setRoomName=_useState4[1];var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/create-room\"),{// send post request to login endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({name:roomName})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;// get content\nif(result['message']==='Successfully created room!'){window.location.reload();}else{setError(result);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:props.createRoom?'create-window active':'create-window',children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"search-box\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"mt-5\",align:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{label:\"Room Name\",variant:\"filled\",onChange:function onChange(e){return setRoomName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{buttonSize:\"btn--md\",buttonStyle:\"btn--secondary\",type:\"submit\",my:\"mt-2\",mx:\"mx-auto\",onClick:submit,children:\"Create Room\"}),error===''?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"search-result\",children:error})]})})});};\n// CONCATENATED MODULE: ./src/pages/Home.js\n//import {Button} from '../components/Button'\n//import Alert from '@material-ui/lab/Alert'\nvar Home_Home=function Home(props){/*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */var socket=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),createRoom=_useState4[0],setCreateRoom=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),friends=_useState6[0],setFriends=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),rooms=_useState8[0],setRooms=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),requests=_useState10[0],setRequests=_useState10[1];// friend requests\nvar requestsRef=Object(react[\"useRef\"])();requestsRef.current=requests;var _useStateWithCallback=lib_default()(null,function(req){if(req!==null&&socket.current.readyState===1){socket.current.send(JSON.stringify(req));_setReq(null);}}),_useStateWithCallback2=Object(slicedToArray[\"a\" /* default */])(_useStateWithCallback,2),req=_useStateWithCallback2[0],_setReq=_useStateWithCallback2[1];var history=Object(react_router[\"f\" /* useHistory */])();props.setRoomID(null);if(!localStorage.getItem(\"user\")){history.push('/login');}var showSearchWindow=function showSearchWindow(){return setSearch(!search);};// toggle search bar\nvar showRoomWindow=function showRoomWindow(){return setCreateRoom(!createRoom);};// toggle search bar\nvar searchClass=search?'rotate-icon':'';var roomClass=createRoom?'rotate-icon':'';console.log(\"requests in home: \",requests);Object(react[\"useEffect\"])(function(){var isMounted=true;var getFriends=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friends\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;if(isMounted){setFriends(result['friends']);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getFriends(){return _ref.apply(this,arguments);};}();var getFriendReqs=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response,result;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-reqs\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;if(isMounted){setRequests(result['requests']);}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function getFriendReqs(){return _ref2.apply(this,arguments);};}();var getRooms=/*#__PURE__*/function(){var _ref3=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var response,result;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-rooms\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context3.sent;_context3.next=5;return response.json();case 5:result=_context3.sent;if(isMounted){setRooms(result['rooms']);}case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function getRooms(){return _ref3.apply(this,arguments);};}();if(isMounted){getFriends().catch(setFriends(''));getFriendReqs().catch(setRequests(''));getRooms().catch(setRooms([]));}socket.current=new WebSocket(\"wss://\".concat(\"149.28.198.74\",\"/ws\"));socket.current.onopen=function(event){console.log(\"Connected to ws\");//socket.current.send(JSON.stringify({friend_id: 0+'', req: \"HELP ME\"}))\n};socket.current.onmessage=function(request){var new_req=JSON.parse(request.data);console.log(\"requests: \",requests);switch(new_req['req']){case'add-friend':console.log(\"requests: \",requestsRef.current);var filteredRequests=[];var isInRequests=false;// check if friend is in requests\nObject.keys(requestsRef.current).map(function(key){if(requestsRef.current[key]!==new_req['friend_id']){// if friend is not current request:\nfilteredRequests.push(requests[key]);// add to array\n}else{isInRequests=true;// otherwise: set isInRequests to true\n}return requestsRef.current[key];});console.log(\"isInRequests: \",isInRequests);if(new_req['sender_id']===props.user['_id']){// if this client is the sender:\nif(isInRequests){// if accepting friend request:\nconsole.log(\"Accepting friend request\");console.log(\"new requests: \",filteredRequests);setRequests(filteredRequests);// setRequests to array without friend that was just added\nsetFriends(function(prev){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prev),[new_req['friend_id']]);});// setFriends with newly added friend\n}}else{// if this client is the receiver:\nif(new_req['in_pending']==='true'){// if other client accepted friend request:\nconsole.log(\"Friend accepted request\");setFriends(function(prev){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prev),[new_req['friend_id']]);});// setFriends with newly added friend\n}else{// if received friend request from other client:\nconsole.log(\"Received friend request\");setRequests(function(prev){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prev),[new_req['friend_id']]);});// setRequests with client who sent request\n}}break;case'remove-friend':var filteredArray=[];Object.keys(friends).map(function(key){console.log(\"friend: \",friends[key]);if(friends[key]!==new_req['friend_id']){filteredArray.push(friends[key]);}return friends[key];});console.log(\"filtered array: \",filteredArray);setFriends(filteredArray);break;case'add-to-room':console.log(\"In add-to-room\");console.log(\"Is receiver: \",new_req['sender_id']!==props.user['_id']);if(new_req['sender_id']!==props.user['_id']){// if this client is not the sender:\nwindow.location.reload();//setRooms(prev => [...prev, new_req['room_id']])    // setRequests with client who sent request (this doesn't work, very annoying)\n}break;default:_setReq(null);break;}};socket.current.onclose=function(event){console.log(\"socket closed connection: \",event);};return function(){isMounted=false;};},[]);//const sendReq = () =>{ console.log(\"req in sendReq: \", req); socket.current.send(req); }\n//console.log(\"req in home: \", req)\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"rooms-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"rooms-header-text mb-0\",children:\"Friends\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-plus-circle add-btn mb-0 \".concat(searchClass),onClick:showSearchWindow})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"search-window-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_Search,{search:search,setSearch:setSearch,setReq:function setReq(data){_setReq(data);},user:props.user})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:friends===null?null:Object.keys(friends).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{alt:\"friend\",size:\"img-large\",isRoom:false,friend_id:friends[key],setReq:function setReq(data){_setReq(data);},user:props.user,inPending:false,overlay:true})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"rooms-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"rooms-header-text mt-2\",children:\"Rooms\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"fas fa-plus-circle add-btn mb-0 \".concat(roomClass),onClick:showRoomWindow})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"search-window-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreateRoom_CreateRoom,{createRoom:createRoom})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:rooms===null?null:Object.keys(rooms).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{alt:\"default_room.jpeg\",size:\"img-large\",isRoom:true,room_id:rooms[key],setReq:function setReq(data){_setReq(data);},user:props.user,overlay:true})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"rooms-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"rooms-header-text mb-0\",children:\"Pending Friends\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:requests===null?null:Object.keys(requests).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-sm-12 col-md-4 col-lg-2 px-0 mx-3\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{src:\"default_pic.jpeg\",alt:\"friend\",size:\"img-large\",name:\"username\",isRoom:false,friend_id:requests[key],setReq:function setReq(data){_setReq(data);},user:props.user,inPending:true,overlay:true})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"mt-5 mb-3 mx-auto text-muted\",children:\"\\xA9 2017\\u20132021\"})]});};\n// EXTERNAL MODULE: ./src/pages/Login.scss\nvar pages_Login = __webpack_require__(66);\n\n// CONCATENATED MODULE: ./src/pages/Login.js\nvar Login_Login=function Login(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),pass=_useState6[0],setPass=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),error=_useState8[0],setError=_useState8[1];var history=Object(react_router[\"f\" /* useHistory */])();if(localStorage.getItem(\"user\")){history.push('/');}// on submit function\nvar submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response,user;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/login\"),{// send post request to login endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({email:email,password:pass})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:user=_context.sent;// get content\nconsole.log(\"Login\",user);if(user.message!==undefined){setError(user.message);}else{localStorage.setItem(\"user\",user);props.setUser(user);// set user to logged in user\nsetError('');setRedirect(true);// set redirect to true\n}case 9:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();// redirect if state is true\nif(redirect){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"container login-form\",onSubmit:submit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"signin-header\",children:\"Please Sign In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email Address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input mb-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPass(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-danger mb-3\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{buttonStyle:\"btn--primary\",type:\"submit\",children:\"Sign In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"mt-5 mb-3 text-muted\",children:[\"Need and account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"register\",children:\"Register\"})]})]});};\n// CONCATENATED MODULE: ./src/pages/Register.js\nvar Register_Register=function Register(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),setConfirmPass=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),username=_useState6[0],setUsername=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useState11=Object(react[\"useState\"])(''),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),pass=_useState12[0],setPass=_useState12[1];var history=Object(react_router[\"f\" /* useHistory */])();if(localStorage.getItem(\"user\")){history.push('/');}console.log(props.username);var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();// if passwords match and email has @ char\nif(error){_context.next=5;break;}_context.next=4;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/register\"),{// send post request to register endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,email:email,password:pass})});case 4:setRedirect(true);// set redirect to true\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();// redirect if state is true\nif(redirect){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}// Check if passwords match\nvar validatePass=function validatePass(e_val){var confirm_pass=e_val;setConfirmPass(confirm_pass);if(pass!==confirm_pass){setError('Passwords do not match');}else{setError('');}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"container login-form\",onSubmit:submit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"signin-header\",children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",className:\"form-control\",name:\"username\",placeholder:\"Username\",required:true,onChange:function onChange(e){return setUsername(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",placeholder:\"Email Address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",name:\"pass\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPass(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-input\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",name:\"confirmPass\",placeholder:\"Confirm Password\",required:true,onChange:function onChange(e){return validatePass(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-danger mb-3\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{buttonStyle:\"btn--primary\",link:\"/register\",type:\"submit\",children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"mt-5 mb-3 text-muted\",children:[\"Have an account? \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})]})]});};\n// CONCATENATED MODULE: ./src/components/Message.js\nvar Message_Message=function Message(props){var getColor=props.isCurrUser?'current-user':'not-current-user';return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"message mt-3 \".concat(getColor),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-text mx-2 mt-2\",children:props.user+':'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message-text mx-2 mt-2\",children:props.text})]});};\n// EXTERNAL MODULE: ./src/components/MessageBox.scss\nvar components_MessageBox = __webpack_require__(104);\n\n// CONCATENATED MODULE: ./src/components/MessageBox.js\nvar MessageBox_MessageBox=function MessageBox(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"row mt-5 message-box\",align:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-sm-11 px-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextField[\"a\" /* default */],{id:\"filled-multiline-flexible\",className:\"message-input\",label:\"Message\",fullWidth:true,variant:\"filled\",onChange:function onChange(e){return props.onChange(e.target.value);}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-sm-1 my-auto pl-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Button_Button,{buttonSize:\"btn--md btn--primary\",onClick:props.onClick,children:\"Send\"})})]});};\n// EXTERNAL MODULE: ./src/pages/RoomFriend.scss\nvar RoomFriend = __webpack_require__(67);\n\n// CONCATENATED MODULE: ./src/pages/Friend.js\n//const socket = new WebSocket(\"ws://localhost:8000/ws/234\");\nvar Friend_Friend=function Friend(props){/*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */var socket=Object(react[\"useRef\"])(null);var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),room_id=_useState6[0],setRoomId=_useState6[1];//const room_id = useRef(null);\n//const socket = useRef(null);\n//let socket = new WebSocket(\"ws://localhost:8000/ws/123\")\nprops.setRoomID(null);var router_data=Object(react_router[\"g\" /* useParams */])();var friend_id=router_data['friend_id'];if(!localStorage.getItem(\"user\")){history.push('/login');}Object(react[\"useEffect\"])(function(){var getFriendChat=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-friend-chat\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({friend_id:friend_id})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;setRoomId(result['room_id']);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getFriendChat(){return _ref.apply(this,arguments);};}();var getMessages=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var response,result;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-messages\"),{// send post request to logout endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({room_id:room_id})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:result=_context2.sent;setMessages(result['messages']);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function getMessages(){return _ref2.apply(this,arguments);};}();getFriendChat();getMessages();socket.current=new WebSocket(\"wss://\".concat(\"149.28.198.74\",\"/ws/\")+room_id);socket.current.onopen=function(event){console.log(\"Connection at: \",room_id);};socket.current.onmessage=function(msg){var new_msg=JSON.parse(msg.data);console.log(new_msg);setMessages(function(prev){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prev),[new_msg]);});};socket.current.onclose=function(event){console.log(\"socket closed connection: \",event);};},[friend_id,room_id]);var sendMsg=function sendMsg(){socket.current.send(msg);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container room-friend-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{alt:\"friend\",size:\"img-large\",isRoom:false,friend_id:friend_id,overlay:false})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:messages.length===0?null:Object.keys(messages).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Message_Message,{user:messages[key]['user'],text:messages[key]['text'],isCurrUser:props.user['username']===messages[key]['user']})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessageBox_MessageBox,{onChange:setMsg,onClick:sendMsg})})]});};\n// CONCATENATED MODULE: ./src/pages/Room.js\nvar Room_Room=function Room(props){/*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */var socket=Object(react[\"useRef\"])(null);var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),msg=_useState2[0],setMsg=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];// get room id\nvar router_data=Object(react_router[\"g\" /* useParams */])();var room_id=router_data['room_id'];props.setRoomID(room_id);if(!localStorage.getItem(\"user\")){history.push('/login');}Object(react[\"useEffect\"])(function(){var getMessages=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,result;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/get-messages\"),{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({room_id:room_id})});case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;setMessages(result['messages']);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getMessages(){return _ref.apply(this,arguments);};}();getMessages();socket.current=new WebSocket(\"ws://\".concat(\"149.28.198.74\",\"/ws/\")+room_id);socket.current.onopen=function(event){console.log(\"Connection at: \",room_id);};socket.current.onmessage=function(msg){var new_msg=JSON.parse(msg.data);console.log(new_msg);setMessages(function(prev){return[].concat(Object(toConsumableArray[\"a\" /* default */])(prev),[new_msg]);});};socket.current.onclose=function(event){console.log(\"socket closed connection: \",event);};},[room_id]);var sendMsg=function sendMsg(){return socket.current.send(msg);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container room-friend-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Preview_Preview,{alt:\"room\",size:\"img-large\",isRoom:true,room_id:room_id,overlay:false})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:messages.length===0?null:Object.keys(messages).map(function(key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Message_Message,{user:messages[key]['user'],text:messages[key]['text'],isCurrUser:props.user['username']===messages[key]['user']})},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MessageBox_MessageBox,{onChange:setMsg,onClick:sendMsg})})]});};\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),room_id=_useState4[0],_setRoomID=_useState4[1];// Get user if logged in\nObject(react[\"useEffect\"])(function(){var fetchUser=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,user;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://\".concat(\"149.28.198.74\",\"/api/getuser\"),{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:user=_context.sent;if(user.message!==undefined){// if error message from server:\nsetUser('');// set user to empty (couldn't get user)\n}else{// else:\nlocalStorage.setItem(\"user\",user);setUser(user);// set user to retrieved user's user\n}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchUser(){return _ref.apply(this,arguments);};}();fetchUser().catch(setUser(''));// get user, set to empty if cannot get user\n},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar_Navbar,{user:user,setUser:setUser,room_id:room_id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home_Home,{user:user,setUser:setUser,setRoomID:function setRoomID(room_id){return _setRoomID(room_id);}});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login_Login,{user:user,setUser:setUser});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/register\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Register_Register,{user:user});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/friend/:friend_id\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Friend_Friend,{user:user,isRoom:false,setRoomID:function setRoomID(room_id){return _setRoomID(room_id);}});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/room/:room_id\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Room_Room,{user:user,isRoom:true,setRoomID:function setRoomID(room_id){return _setRoomID(room_id);}});}})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 166)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 67:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[105,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Navbar.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Button.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Search.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/CreateRoom.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/MessageBox.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Preview.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Navbar.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Button.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Search.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/CreateRoom.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Home.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Login.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Register.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Message.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/MessageBox.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Friend.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Room.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/App.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/reportWebVitals.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/src/index.js","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Message.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Home.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/Login.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/pages/RoomFriend.scss","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/index.css","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/App.css","/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-6-0!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/postcss-loader/src/index.js??postcss!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/resolve-url-loader/index.js??ref--5-oneOf-6-3!/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/react-scripts/node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/Preview.scss"],"names":["SIZES","Preview","props","getImgSize","includes","size","useState","isFriend","setIsFriend","previewPic","setPreviewPic","previewName","setPreviewName","friends","setFriends","React","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","history","useHistory","useEffect","isMounted","getFriends","fetch","process","headers","credentials","response","json","result","checkFriend","method","body","JSON","stringify","friend_id","getFriendInfo","console","log","getRoomInfo","room_id","isRoom","catch","addFriend","setReq","user","inPending","toString","removeFriend","goToMessages","push","leaveRoom","window","location","reload","goToChat","sendRoomInvite","target","id","overlay","margin","display","undefined","Object","keys","map","key","backgroundColor","e","Navbar","sidebar","setSidebar","users","setUsers","showSidebar","logout","setUser","localStorage","removeItem","menu","length","STYLES","Button","children","type","onClick","buttonStyle","buttonSize","my","mx","classes","getButtonStyle","getButtonSize","Search","error","setError","username","setUsername","receivedData","setReceivedData","data","setData","submit","preventDefault","search","value","CreateRoom","roomName","setRoomName","name","createRoom","Home","socket","useRef","setSearch","setCreateRoom","rooms","setRooms","requests","setRequests","requestsRef","current","useStateWithCallback","req","readyState","send","setRoomID","getItem","showSearchWindow","showRoomWindow","searchClass","roomClass","getFriendReqs","getRooms","WebSocket","onopen","onmessage","request","new_req","parse","filteredRequests","isInRequests","prev","filteredArray","onclose","Login","redirect","setRedirect","email","setEmail","pass","setPass","password","message","setItem","Register","setConfirmPass","validatePass","e_val","confirm_pass","Message","getColor","isCurrUser","text","MessageBox","onChange","Friend","msg","setMsg","messages","setMessages","setRoomId","router_data","useParams","getFriendChat","getMessages","new_msg","sendMsg","Room","App","fetchUser","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, {useState, useEffect} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport Button from '@mui/material/Button';\nimport Menu from '@mui/material/Menu';\nimport { MenuItem } from '@mui/material';\n\n//import FormControl from '@mui/material/FormControl';\n//import InputLabel from '@mui/material/InputLabel';\n\nimport '../pages/Home.scss'\nimport './Preview.scss'\n\nconst SIZES = ['img-large','img-small']\n\nexport const Preview = (props) => {\n    const getImgSize = SIZES.includes(props.size) ? props.size : SIZES[0]; // get button style. default to primary\n    const [isFriend, setIsFriend] = useState(false)\n    const [previewPic, setPreviewPic] = useState('')\n    const [previewName, setPreviewName] = useState('')\n    const [friends, setFriends] = useState(false)\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const open = Boolean(anchorEl);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const history = useHistory()\n\n    // when friend is clicked function\n    useEffect(() => {\n        let isMounted = true\n        const getFriends = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-friends`, {\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include'\n            })\n\n            const result = await response.json()\n            if (isMounted) {\n                setFriends(result['friends']) \n            }\n        }\n\n        const checkFriend = async () => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/check-friend`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    friend_id: props.friend_id\n                })\n            })\n\n            const result = await response.json()\n\n            if (isMounted) {\n                if (result['message'] === 'true') {\n                    setIsFriend(true)\n                } else {\n                    setIsFriend(false)\n                }\n            }\n        }\n        const getFriendInfo = async () => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-friend-info`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    friend_id: props.friend_id\n                })\n            })\n\n            const result = await response.json()\n\n            if (result['message'] === 'Could Not Find User') {\n                console.log(result)\n            } else {\n                if (isMounted) {\n                    setPreviewName(result['username'])\n                    setPreviewPic(result['profile_pic'])\n                }\n            }\n        }\n        const getRoomInfo = async () => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-room-info`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    room_id: props.room_id\n                })\n            })\n\n            const result = await response.json()\n\n            if (result['message'] === 'Could Not Find Room') {\n                console.log(result)\n            } else {\n                if (isMounted) {\n                    setPreviewName(result['room_name'])\n                    setPreviewPic(result['room_pic'])\n                }\n            }\n        }\n\n        if (isMounted) {\n            if (props.isRoom === true) {\n                getRoomInfo().catch(setPreviewName(''), setPreviewPic('default_room.jpeg'))\n                getFriends().catch(setFriends(''))\n            } else {\n                checkFriend().catch(setIsFriend(false))\n                getFriendInfo().catch(setPreviewName(''), setPreviewPic('default.jpeg'))\n            }\n        }\n\n        return () => { isMounted=false }\n\n    }, [props.friend_id, props.room_id, props.isRoom])\n\n    const addFriend = async() => {\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/add-friend`, { // send post request to logout endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                friend_id: props.friend_id\n            })\n        })\n\n        const result = await response.json();\n        props.setReq({\"sender_id\": props.user['_id'], \"friend_id\": props.friend_id, \"req\": \"add-friend\", \"in_pending\":props.inPending.toString()})\n\n        //window.location.reload()\n    }\n\n    const removeFriend = async() => {\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/remove-friend`, { // send post request to logout endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                friend_id: props.friend_id\n            })\n        })\n\n        const result = await response.json()\n        console.log(result);\n        props.setReq({\"sender_id\": props.user['_id'], \"friend_id\": props.friend_id, \"req\": \"remove-friend\"})\n\n        //history.push('/')\n        //window.location.reload();\n    }\n\n\n    const goToMessages = () => {\n        history.push('/friend/' + props.friend_id)\n    }\n\n    const leaveRoom = async() => {\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/leave-room`, { // send post request to logout endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                room_id: props.room_id\n            })\n        })\n        window.location.reload();\n        return response\n    }\n\n    const goToChat = async() => {\n        history.push('/room/' + props.room_id)\n    }\n\n    const sendRoomInvite = async(event) => {\n        console.log('event target: ', event.target)\n        console.log('event target value: ', event.target.id)\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/add-to-room`, { // send post request to logout endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                friend_id: event.target.id,\n                room_id: props.room_id\n            })\n        })\n\n        const result = await response.json();\n        console.log(result)\n        if (result[\"message\"] !== \"Friend is already in room\") {\n            props.setReq({\"sender_id\": props.user['_id'], \"friend_id\": event.target.id, \"room_id\": props.room_id, \"req\": \"add-to-room\"})\n        }\n        //window.location.reload()\n    }\n\n\n    return (\n        <div>\n            <div className='friend-container mt-2' id={props.id}>\n                <img src={'../'+previewPic} alt='friend' className={`${getImgSize}`} id={props.id} />\n                { props.overlay ?\n                    !props.isRoom ? // if preview for friend:\n                        getImgSize === 'img-large' ? // if image is large:\n                        <div className={`overlay ${getImgSize}`}>  \n                        <div className='col'>\n                            {isFriend === false ? // if they are not friends:\n                                    <Button style={{margin: '0 auto', display: \"flex\"}} className='overlay-btn mt-4' variant='contained' color='secondary' size='small' onClick={addFriend}>Add Friend</Button>\n                                :   // if they are friends:\n                                    <Button style={{margin: '0 auto', display: \"flex\"}} className='overlay-btn mt-4' variant='contained' color='secondary' size='small' onClick={goToMessages}>Message</Button>\n                            }\n                            {isFriend === true ?\n                                    <Button style={{margin: '0 auto', display: \"flex\"}} className='overlay-btn mt-4' variant='contained' color='error' size='small' onClick={removeFriend}>Remove Friend</Button>\n                                : null}\n                        </div>\n                        </div>\n                        : null // if small-image\n            : // if preview for Room: }\n                <div className={`overlay ${getImgSize}`}>  \n                    <div className='col'>\n                            <Button style={{margin: '0 auto', display: \"flex\"}} className='overlay-btn mt-3' variant='contained' color='secondary' size='small' onClick={goToChat}>Chat</Button>\n                            <Button\n                                style={{margin: '0 auto', display: \"flex\"}}\n                                variant='contained'\n                                color='secondary'\n                                className='overlay-btn mt-2'\n                                id=\"basic-button\"\n                                aria-controls=\"basic-menu\"\n                                aria-haspopup=\"true\"\n                                aria-expanded={open ? 'true' : undefined}\n                                onClick={handleClick}\n                            >\n                            Invite Friend\n                            </Button>\n                            <Menu\n                                id=\"basic-menu\"\n                                anchorEl={anchorEl}\n                                open={open}\n                                onClose={handleClose}\n                                MenuListProps={{'aria-labelledby': 'basic-button',}}\n                                \n                            >\n                                {Object.keys(friends).map(key => \n                                    <MenuItem key={key} sx={{backgroundColor: '#242424', '&:hover': {backgroundColor: '#2d2d2d'}}} onClick={(e) => sendRoomInvite(e)}  >\n                                        <Preview alt='friend' size='img-small' isRoom={false} friend_id={friends[key]} id={friends[key]} />\n                                    </MenuItem>\n                                )}\n\n                            </Menu>\n                            <Button style={{margin: '0 auto', display: \"flex\"}} variant='contained' color='error' className='overlay-btn mt-2' onClick={leaveRoom}>Leave Room</Button>\n                    </div>\n                </div> : null } {/* if no overlay, set to null */}\n\n        </div>\n\n            <div className='friend-name'>\n                <p>{previewName}</p>\n            </div>\n        </div>\n    )\n}\n","import React, {useState, useEffect} from 'react'\nimport {Link, useHistory} from 'react-router-dom'\nimport {Preview} from './Preview'\nimport './Navbar.scss'\n\nexport const Navbar = (props) => {\n    const [sidebar, setSidebar] = useState(false)\n    const [users, setUsers] = useState([])\n    const history = useHistory()\n\n    const showSidebar = () => setSidebar(!sidebar) // toggle sidebar\n\n    useEffect(() => {\n        const getRoomInfo = async () => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-room-info`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    room_id: props.room_id\n                })\n            })\n            const result = await response.json()\n            console.log(result['users'])\n            setUsers(result['users'])\n        }\n        if (props.room_id === null) {\n            setUsers([])\n        } else {\n            getRoomInfo()\n        }\n    }, [props.room_id])\n\n    // logout function\n    const logout = async () => {\n        props.setUser('')\n\n        await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/logout`, { // send post request to logout endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n        })\n        localStorage.removeItem(\"user\")\n        history.push('/login')\n    }\n\n    let menu;\n    // if no user: don't display menu\n    if (props.user === '') {\n        menu = (<></>)\n    } else {\n        menu = (\n        <>\n        <div className='navbar'>\n            <div className='container-fluid navbar-container'/>\n            <div className='nav-bars'>\n                <i className=\"fas fa-bars fa-3x\" onClick={showSidebar}/>\n            </div>\n            <nav className={sidebar ? 'nav-menu active' : 'nav-menu'}>\n                <ul className='nav-menu-items' onClick={showSidebar}>\n                    <li className='nav-toggle'>\n                        <div className='nav-x'>\n                            <i className=\"fas fa-times fa-3x\"/>\n                        </div>\n                    </li>\n                    <li className='nav-text'>\n                        <Link to='/'>\n                            <i className=\"fas fa-atom\" />\n                            <span> Home</span>\n                        </Link>\n                    </li>\n                    <li className='nav-text'>\n                        <Link to='/login' onClick={logout}>\n                            <i className=\"fas fa-power-off\" />\n                            <span> Logout</span>\n                        </Link>\n                    </li>\n                    {users.length === 0 ? null : Object.keys(users).map(key => \n                        <li key={key} className=''>\n                            <Preview alt='default.jpeg' size='img-small' isRoom={false} friend_id={users[key]} />\n                        </li>\n                    )}\n                    \n                </ul>\n            </nav>\n        </div>\n        </>\n        )\n    }\n\n    return (\n        <>\n        {menu}\n        </>\n    )\n}\n","import React from 'react';\nimport './Button.scss';\n//import {Link} from 'react-router-dom';\n\nconst STYLES = ['btn--primary', 'btn--secondary', 'btn--outline'];\nconst SIZES  = ['btn--med', 'btn--lg', 'btn--sm']\n\nexport const Button = ({children, type, onClick, buttonStyle, buttonSize, my, mx, classes}) => {\n    const getButtonStyle = STYLES.includes(buttonStyle) ? buttonStyle : STYLES[0]; // get button style. default to primary\n    const getButtonSize = SIZES.includes(buttonSize) ? buttonSize : SIZES[0];      // get button size. default to medium\n\n    return (\n        <button className={`btn ${getButtonSize} ${getButtonStyle} ${my} ${mx} ${classes}`} onClick={onClick} type={type}>\n            {children}\n        </button>\n    )\n}\n","import React, {SyntheticEvent, useState} from 'react'\nimport {Button} from './Button'\n//import {Link} from 'react-router-dom'\nimport {Preview} from './Preview'\nimport TextField from '@material-ui/core/TextField';\nimport './Search.scss'\nimport './Message.scss'\n\nexport const Search = (props) => {\n    const [error, setError] = useState('')\n    const [username, setUsername] = useState('')\n    const [receivedData, setReceivedData] = useState(false)\n    const [data, setData] = useState('')\n\n    const submit = async(e: SyntheticEvent) => {\n        e.preventDefault()\n\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/search-friend`, { // send post request to login endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                username: username\n            })\n        })\n\n        const result = await response.json() // get content\n\n        if (result !== null) {\n            setError('')\n            setReceivedData(true)\n            setData(result)\n        } else {\n            setError('user not found')\n            setReceivedData(false)\n            setData('')\n        }\n\n    }\n\n    return (\n        <div className={props.search ? 'search-window active' : 'search-window'} >\n            <div className='search-box'>\n            <div className='mt-5' align='center'>\n                <TextField\n                    label=\"Search...\"\n                    maxRows={4}\n                    variant=\"filled\"\n                    onChange={e=>setUsername(e.target.value)}\n                />\n                <Button buttonSize='btn--md' buttonStyle='btn--secondary' type='submit' my='mt-2' mx='mx-auto' onClick={submit}>Search</Button>\n                {error === '' ? null : <li className='search-result'>{error}</li>}\n                {receivedData ? Object.keys(data).map(key => \n                    <li key={key} className='search-result'>\n                        <Preview src={data[key]['profile_pic']} alt='friend' size='img-large' name={data[key]['username']} friend_id={data[key]['_id']} setReq={data => props.setReq(data) } user={props.user} inPending={false} overlay={true} />\n                    </li>\n                )\n                : null}\n            </div>\n            </div>\n        </div>\n    )\n}\n","import React, {SyntheticEvent, useState} from 'react'\nimport {Button} from './Button'\nimport TextField from '@material-ui/core/TextField';\nimport './CreateRoom.scss'\nimport './Message.scss'\n\nexport const CreateRoom = (props) => {\n    const [error, setError] = useState('')\n    const [roomName, setRoomName] = useState('')\n\n    const submit = async(e: SyntheticEvent) => {\n        e.preventDefault()\n\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/create-room`, { // send post request to login endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                name: roomName,\n            })\n        })\n\n        const result = await response.json() // get content\n        if (result['message'] === 'Successfully created room!') {\n            window.location.reload();\n        } else {\n            setError(result)\n        }\n\n    }\n\n    return (\n        <div className={props.createRoom ? 'create-window active' : 'create-window'} >\n            <div className='search-box'>\n            <div className='mt-5' align='center'>\n                <TextField\n                    label=\"Room Name\"\n                    variant=\"filled\"\n                    onChange={e=>setRoomName(e.target.value)}\n                />\n                <Button buttonSize='btn--md' buttonStyle='btn--secondary' type='submit' my='mt-2' mx='mx-auto' onClick={submit}>Create Room</Button>\n                {error === '' ? null : <li className='search-result'>{error}</li>}\n            </div>\n            </div>\n        </div>\n    )\n}\n","import React, {useState, useEffect, useRef} from 'react'\nimport useStateWithCallback from 'use-state-with-callback';\n//import {Button} from '../components/Button'\nimport {useHistory} from 'react-router-dom'\nimport {Preview} from '../components/Preview'\n//import Alert from '@material-ui/lab/Alert'\nimport {Search} from '../components/Search'\nimport {CreateRoom} from '../components/CreateRoom'\nimport './Home.scss'\n\nexport const Home = (props) => {\n    /*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */\n    const socket = useRef(null);\n\n    const [search, setSearch] = useState(false)\n    const [createRoom, setCreateRoom] = useState(false)\n    const [friends, setFriends] = useState('')\n    const [rooms, setRooms] = useState([])\n    const [requests, setRequests] = useState('') // friend requests\n    const requestsRef = useRef();\n    requestsRef.current = requests;\n    const [req, setReq] = useStateWithCallback(null, req => {\n        if (req !== null && socket.current.readyState === 1) {\n            socket.current.send(JSON.stringify(req));\n            setReq(null);\n        } \n    });\n    const history = useHistory()\n    props.setRoomID(null)\n\n    if(!localStorage.getItem(\"user\")) {\n        history.push('/login')\n    }\n\n    const  showSearchWindow = () => setSearch(!search) // toggle search bar\n    const  showRoomWindow = () => setCreateRoom(!createRoom) // toggle search bar\n    const searchClass = search ? 'rotate-icon' : '';\n    const roomClass = createRoom ? 'rotate-icon' : '';\n\n    console.log(\"requests in home: \", requests)\n\n    useEffect(() => {\n        let isMounted = true;\n        const getFriends = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-friends`, {\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include'\n            })\n\n            const result = await response.json()\n            if (isMounted) {\n                setFriends(result['friends']) \n            }\n        }\n        const getFriendReqs = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-friend-reqs`, {\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include'\n            })\n            const result = await response.json()\n            if (isMounted) {\n                setRequests(result['requests'])\n            }\n        }\n        const getRooms = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-rooms`, {\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include'\n            })\n\n            const result = await response.json()\n            if (isMounted) {\n                setRooms(result['rooms']) \n            }\n        }\n\n        if (isMounted) {\n            getFriends().catch(setFriends(''))\n            getFriendReqs().catch(setRequests(''))\n            getRooms().catch(setRooms([]))\n        }\n\n        socket.current = new WebSocket(`wss://${process.env.REACT_APP_SERVER_URL}/ws`)\n        socket.current.onopen = (event) => {\n            console.log(\"Connected to ws\")\n            //socket.current.send(JSON.stringify({friend_id: 0+'', req: \"HELP ME\"}))\n        }\n        socket.current.onmessage = (request) => {\n            let new_req = JSON.parse(request.data)\n            console.log(\"requests: \", requests)\n            switch(new_req['req']) {\n                case 'add-friend':\n                    console.log(\"requests: \", requestsRef.current)\n                    let filteredRequests = [];\n                    let isInRequests = false;\n                    // check if friend is in requests\n                    Object.keys(requestsRef.current).map(key => {\n                        if (requestsRef.current[key] !== new_req['friend_id']) { // if friend is not current request:\n                            filteredRequests.push(requests[key])   // add to array\n                        } else {\n                            isInRequests = true;                  // otherwise: set isInRequests to true\n                        }\n                        return requestsRef.current[key]\n                    })\n                    console.log(\"isInRequests: \", isInRequests)\n                    if (new_req['sender_id'] === props.user['_id']) {           // if this client is the sender:\n                        if(isInRequests) {                                          // if accepting friend request:\n                            console.log(\"Accepting friend request\")\n                            console.log(\"new requests: \", filteredRequests)\n                            setRequests(filteredRequests)                               // setRequests to array without friend that was just added\n                            setFriends(prev => [...prev, new_req['friend_id']])         // setFriends with newly added friend\n                        }                                                       \n                    } else {                                                    // if this client is the receiver:\n                        if(new_req['in_pending'] === 'true') {                      // if other client accepted friend request:\n                            console.log(\"Friend accepted request\")\n                            setFriends(prev => [...prev, new_req['friend_id']])         // setFriends with newly added friend\n                        } else {                                                // if received friend request from other client:\n                            console.log(\"Received friend request\")\n                            setRequests(prev => [...prev, new_req['friend_id']])    // setRequests with client who sent request\n                        }\n                    }\n                    break;\n                case 'remove-friend':\n                    let filteredArray = [];\n                    Object.keys(friends).map(key => {\n                        console.log(\"friend: \", friends[key])\n                        if (friends[key] !== new_req['friend_id']) {\n                           filteredArray.push(friends[key])\n                        }\n                        return friends[key]\n                    })\n                    console.log(\"filtered array: \", filteredArray)\n                    setFriends(filteredArray)\n                    break;\n                case 'add-to-room':\n                    console.log(\"In add-to-room\")\n                    console.log(\"Is receiver: \", new_req['sender_id'] !== props.user['_id'])\n                    if (new_req['sender_id'] !== props.user['_id']) {    // if this client is not the sender:\n                        window.location.reload();\n                        //setRooms(prev => [...prev, new_req['room_id']])    // setRequests with client who sent request (this doesn't work, very annoying)\n                    }\n                    break;\n                default:\n                    setReq(null)\n                    break;\n            }\n        }\n\n        socket.current.onclose = (event) => {\n            console.log(\"socket closed connection: \", event)\n        }\n\n        return () => { isMounted=false }\n    }, [])\n\n    //const sendReq = () =>{ console.log(\"req in sendReq: \", req); socket.current.send(req); }\n\n    //console.log(\"req in home: \", req)\n\n    return(\n        <div className='container'>\n            <div className=\"rooms-header\">\n                <h2 className=\"rooms-header-text mb-0\">Friends</h2>\n                <i className={`fas fa-plus-circle add-btn mb-0 ${searchClass}`} onClick={showSearchWindow} />\n            </div>\n            <div className=\"search-window-container\">\n                <Search search={search} setSearch={setSearch} setReq={ data => {setReq(data);} } user={props.user} />\n            </div>\n            <div className='row'>\n                {friends === null ? null : Object.keys(friends).map(key => \n                    <div key={key} className='col-sm-12 col-md-4 col-lg-2 px-0 mx-3'>\n                        <Preview alt='friend' size='img-large' isRoom={false} friend_id={friends[key]} setReq={ data => {setReq(data);} } user={props.user} inPending={false} overlay={true} />\n                    </div>\n                )}\n\n            </div>\n\n\n            <div className='rooms-header'>\n                <h2 className=\"rooms-header-text mt-2\">Rooms</h2>\n                <i className={`fas fa-plus-circle add-btn mb-0 ${roomClass}`} onClick={showRoomWindow} />\n            </div>\n            <div className=\"search-window-container\">\n                <CreateRoom createRoom={createRoom} />\n            </div>\n            <div className='row'>\n                {rooms === null ? null : Object.keys(rooms).map(key => \n                    <div key={key} className='col-sm-12 col-md-4 col-lg-2 px-0 mx-3'>\n                        <Preview alt='default_room.jpeg' size='img-large' isRoom={true} room_id={rooms[key]} setReq={ data => {setReq(data);} } user={props.user} overlay={true} />\n                    </div>\n                )}\n            </div>\n\n\n            <div className=\"rooms-header\">\n                <h2 className=\"rooms-header-text mb-0\">Pending Friends</h2>\n            </div>\n            <div className='row'>\n                {requests === null ? null : Object.keys(requests).map(key =>\n                    <div className='col-sm-12 col-md-4 col-lg-2 px-0 mx-3' key={key}>\n                        <Preview src='default_pic.jpeg' alt='friend' size='img-large' name='username' isRoom={false} friend_id={requests[key]} setReq={ data => {setReq(data);} } user={props.user} inPending={true} overlay={true} />\n                    </div>\n                )}\n            </div>\n\n            <p className=\"mt-5 mb-3 mx-auto text-muted\">&copy; 20172021</p>\n\n        </div>\n    )\n}\n","import React, {SyntheticEvent, useState} from 'react';\nimport {Button} from '../components/Button';\nimport {Link, Redirect, useHistory} from 'react-router-dom'\nimport './Login.scss';\n\nexport const Login = (props) => {\n    const [redirect, setRedirect] = useState(false)\n    const [email, setEmail]       = useState('')\n    const [pass, setPass]         = useState('')\n    const [error, setError]       = useState('')\n    const history = useHistory()\n\n    if(localStorage.getItem(\"user\")) {\n        history.push('/')\n    }\n\n    // on submit function\n    const submit = async(e: SyntheticEvent) => {\n        e.preventDefault()\n\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/login`, { // send post request to login endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                email: email,\n                password: pass\n            })\n        })\n\n        const user = await response.json() // get content\n        console.log(\"Login\", user)\n\n        if (user.message !== undefined) {\n            setError(user.message)\n        } else {\n            localStorage.setItem(\"user\", user)\n            props.setUser(user) // set user to logged in user\n            setError('')\n            setRedirect(true) // set redirect to true\n        }\n    }\n\n    // redirect if state is true\n    if(redirect) {\n        return <Redirect to='/' />\n    }\n\n    return (\n    <form className='container login-form' onSubmit={submit}>\n        <h2 className=\"signin-header\">Please Sign In</h2>\n\n        <div className=\"login-input\">\n            <input type=\"email\" className=\"form-control\" placeholder=\"Email Address\" required onChange={e=>setEmail(e.target.value)}/>\n        </div>\n        <div className=\"login-input mb-4\">\n          <input type=\"password\" className=\"form-control\" placeholder=\"Password\" required onChange={e=>setPass(e.target.value)}/>\n        </div>\n        <div className=\"text-danger mb-3\">{error}</div>\n\n        <Button buttonStyle='btn--primary' type=\"submit\">Sign In</Button>\n\n        <p className=\"mt-5 mb-3 text-muted\">Need and account? <Link to=\"register\">Register</Link></p>\n    </form>\n    )\n}\n","import React, {SyntheticEvent, useState} from 'react';\nimport {Button} from '../components/Button';\nimport {Link, Redirect, useHistory} from 'react-router-dom'\nimport './Login.scss';\n\nexport const Register = (props) => {\n    const [, setConfirmPass] = useState('')\n    const [redirect, setRedirect] = useState(false)\n    const [username, setUsername] = useState('')\n    const [email, setEmail]       = useState('')\n    const [error, setError]       = useState('')\n    const [pass, setPass]         = useState('')\n    const history = useHistory()\n\n    if(localStorage.getItem(\"user\")) {\n        history.push('/')\n    }\n\n\n    console.log(props.username)\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault()\n        // if passwords match and email has @ char\n        if (!error) {\n            await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/register`, { // send post request to register endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                body: JSON.stringify({\n                    username: username,\n                    email: email,\n                    password: pass,\n                })\n            })\n            setRedirect(true) // set redirect to true\n        }\n    }\n\n    // redirect if state is true\n    if(redirect) {\n        return <Redirect to='/login' />\n    }\n\n    // Check if passwords match\n    const validatePass = (e_val) => {\n        const confirm_pass = e_val\n        setConfirmPass(confirm_pass)\n        if (pass !== confirm_pass) {\n           setError('Passwords do not match') \n        } else {\n            setError('')\n        }\n    }\n\n\n    return (\n    <form className='container login-form' onSubmit={submit}>\n        <h2 className=\"signin-header\">Sign Up</h2>\n\n        <div className=\"login-input\">\n            <input type=\"text\" className=\"form-control\" name=\"username\"  placeholder=\"Username\" required onChange={e => setUsername(e.target.value)}/>\n        </div>\n        <div className=\"login-input\">\n          <input type=\"email\" className=\"form-control\" name=\"email\" placeholder=\"Email Address\" required onChange={e => setEmail(e.target.value)}/>\n        </div>\n        <div className=\"login-input\">\n          <input type=\"password\" className=\"form-control\" name=\"pass\" placeholder=\"Password\" required onChange={e => setPass(e.target.value)}/>\n        </div>\n        <div className=\"login-input\">\n          <input type=\"password\" className=\"form-control\" name=\"confirmPass\" placeholder=\"Confirm Password\" required onChange={e => validatePass(e.target.value)}/>\n        </div>\n        <div className=\"text-danger mb-3\">{error}</div>\n\n        <Button buttonStyle='btn--primary' link=\"/register\" type=\"submit\">Sign Up</Button>\n\n        <p className=\"mt-5 mb-3 text-muted\">Have an account? <Link to=\"/login\">Login</Link></p>\n    </form>\n    )\n}\n","import React from 'react'\nimport './Message.scss'\n\nexport const Message = (props) => {\n    const getColor = props.isCurrUser ? 'current-user' : 'not-current-user';\n    return (\n        <div className={`message mt-3 ${getColor}`}>\n            <div className='message-text mx-2 mt-2'>{props.user + ':'}</div>\n            <div className='message-text mx-2 mt-2'>{props.text}</div>\n        </div>\n    )\n}\n","import React from 'react'\nimport {Button} from './Button'\nimport TextField from '@material-ui/core/TextField';\nimport './MessageBox.scss'\n\nexport const MessageBox = (props) => {\n    return (\n        <div className='row mt-5 message-box' align='center'>\n            <div className='col-sm-11 px-0'>\n                {/* <input className='message-input' type=\"text\" required /> */}\n            <TextField\n                id=\"filled-multiline-flexible\"\n                className=\"message-input\"\n                label=\"Message\"\n                fullWidth\n                variant=\"filled\"\n                onChange={e=>props.onChange(e.target.value)}\n            />\n            </div>\n            <div className='col-sm-1 my-auto pl-1' >\n                <Button buttonSize='btn--md btn--primary' onClick={props.onClick}>Send</Button>\n            </div>\n        </div>\n    )\n}\n","import React, {useEffect, useState, useRef} from 'react'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {Preview} from '../components/Preview'\nimport {Message} from '../components/Message'\nimport {MessageBox} from '../components/MessageBox'\nimport './RoomFriend.scss'\n\n//const socket = new WebSocket(\"ws://localhost:8000/ws/234\");\n\nexport const Friend = (props) => {\n    /*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */\n    const socket = useRef(null);\n\n    const history = useHistory()\n    const [msg, setMsg] = useState()\n    const [messages, setMessages] = useState([])\n    const [room_id, setRoomId] = useState('');\n    //const room_id = useRef(null);\n    //const socket = useRef(null);\n    //let socket = new WebSocket(\"ws://localhost:8000/ws/123\")\n    props.setRoomID(null)\n\n    let router_data = useParams()\n    let friend_id = router_data['friend_id']\n\n    if (!localStorage.getItem(\"user\")) {\n        history.push('/login')\n    }\n\n    useEffect(() => {\n        const getFriendChat = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-friend-chat`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    friend_id: friend_id\n                })\n            })\n\n            const result = await response.json()\n            setRoomId(result['room_id'])\n        }\n\n        const getMessages = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-messages`, { // send post request to logout endpoint\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    room_id: room_id\n                })\n            })\n\n            const result = await response.json()\n            setMessages(result['messages'])\n        }\n\n        getFriendChat()\n        getMessages()\n\n        socket.current = new WebSocket(`wss://${process.env.REACT_APP_SERVER_URL}/ws/`+room_id)\n\n        socket.current.onopen = (event) => {\n            console.log(\"Connection at: \", room_id)\n        }\n        socket.current.onmessage = (msg) => {\n            let new_msg = JSON.parse(msg.data)\n            console.log(new_msg)\n            setMessages(prev => [...prev, new_msg])\n        }\n        socket.current.onclose = (event) => {\n            console.log(\"socket closed connection: \", event)\n        }\n    },[friend_id, room_id])\n\n    const sendMsg = () => {\n        socket.current.send(msg)\n    }\n\n    return (\n        <div className='container room-friend-container'>\n            <div className='row mt-5'>\n                <Preview alt='friend' size='img-large' isRoom={false} friend_id={friend_id} overlay={false} />\n            </div>\n\n            <div className='row'>\n                {messages.length === 0 ? null : Object.keys(messages).map(key => \n                    <div key={key} className=''>\n                        <Message user={messages[key]['user']} text={messages[key]['text']} isCurrUser={props.user['username'] === messages[key]['user']}/>\n                    </div>\n                )}\n            </div>\n\n            <div className='row'>\n                <MessageBox onChange={setMsg} onClick={sendMsg}/>\n            </div>\n        </div>\n    )\n}\n","import React, {useEffect, useState, useRef} from 'react'\nimport {useHistory, useParams} from 'react-router-dom'\nimport {Preview} from '../components/Preview'\nimport {Message} from '../components/Message'\nimport {MessageBox} from '../components/MessageBox'\nimport './RoomFriend.scss'\n\nexport const Room = (props) => {\n    /*\n    const socket = new WebSocket(\"ws://localhost:8000/ws/\")\n    const socketRef = useRef();\n    socketRef.current = socket;\n    */\n    const socket = useRef(null);\n\n    const history = useHistory()\n    const [msg, setMsg] = useState()\n    const [messages, setMessages] = useState('')\n    // get room id\n    let router_data = useParams()\n    let room_id = router_data['room_id']\n    props.setRoomID(room_id)\n\n    if (!localStorage.getItem(\"user\")) {\n        history.push('/login')\n    }\n\n    useEffect(() => {\n        const getMessages = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/get-messages`, {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include',\n                body: JSON.stringify({\n                    room_id: room_id\n                })\n            })\n\n            const result = await response.json()\n            setMessages(result['messages']) \n        }\n        \n        getMessages()\n\n        \n        socket.current = new WebSocket(`ws://${process.env.REACT_APP_SERVER_URL}/ws/`+room_id)\n        socket.current.onopen = (event) => {\n            console.log(\"Connection at: \", room_id)\n        }\n        socket.current.onmessage = (msg) => {\n            let new_msg = JSON.parse(msg.data)\n            console.log(new_msg)\n            setMessages(prev => [...prev, new_msg])\n        }\n        socket.current.onclose = (event) => {\n            console.log(\"socket closed connection: \", event)\n        }\n    }, [room_id])\n\n\n    const sendMsg = () => socket.current.send(msg)\n\n    return (\n        <div className='container room-friend-container'>\n            <div className='row mt-5'>\n                <Preview alt='room' size='img-large' isRoom={true} room_id={room_id} overlay={false} />\n            </div>\n            <div className='row'>\n                {messages.length === 0 ? null : Object.keys(messages).map(key => \n                    <div key={key} className=''>\n                        <Message user={messages[key]['user']} text={messages[key]['text']} isCurrUser={props.user['username'] === messages[key]['user']} />\n                    </div>\n                )}\n            </div>\n\n            <div className='row'>\n                <MessageBox onChange={setMsg} onClick={sendMsg}/>\n            </div>\n        </div>\n    )\n}\n","import './App.css';\nimport React, {useState, useEffect} from 'react'\nimport { Navbar } from './components/Navbar';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport {Home} from './pages/Home';\nimport {Login} from './pages/Login';\nimport {Register} from './pages/Register';\nimport {Friend} from './pages/Friend'\nimport {Room} from './pages/Room'\n\n\nfunction App() {\n    const [user, setUser] = useState('')\n    const [room_id, setRoomID] = useState(null)\n\n    // Get user if logged in\n    useEffect(() => {\n        const fetchUser = async() => {\n            const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/getuser`, {\n                headers: {'Content-Type': 'application/json'},\n                credentials: 'include'\n            })\n\n            const user = await response.json()\n            \n            if (user.message !== undefined) { // if error message from server:\n                setUser('')                   // set user to empty (couldn't get user)\n            } else {                          // else:\n                localStorage.setItem(\"user\", user)\n                setUser(user)    // set user to retrieved user's user\n            }\n        }\n        fetchUser().catch(setUser('')) // get user, set to empty if cannot get user\n    },[])\n\n  return (\n    <>\n        <BrowserRouter>\n            <Navbar user={user} setUser={setUser} room_id={room_id} />\n            <Route exact path='/'                  component={() => <Home user={user} setUser={setUser} setRoomID={room_id => setRoomID(room_id)}/>}/>\n            <Route path='/login'                   component={() => <Login user={user} setUser={setUser} />}/>\n            <Route path='/register'                component={() => <Register user={user} />} />\n            <Route exact path='/friend/:friend_id' component={() => <Friend user={user} isRoom={false} setRoomID={room_id => setRoomID(room_id)}/>} />\n            <Route exact path='/room/:room_id'     component={() => <Room user={user} isRoom={true} setRoomID={room_id => setRoomID(room_id)} />}/>\n        </BrowserRouter>\n\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"]}}